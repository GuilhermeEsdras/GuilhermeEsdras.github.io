"use strict";btv.AbstractController=function(t,e){jsgl.IMMEDIATE_UPDATE=!0,(btv.controller=this).controlsDiv=t,this.treeDiv=e,this.tree=this.tree,this.visualiser=new btv.Visualiser(new jsgl.Panel(e)),this.algorithms=new btv.AlgorithmsArrayList,this.returnedValue=void 0,this.delegatedDisableButtons=jsgl.util.delegate(this,this.disableButtons),this.delegatedEnableButtons=jsgl.util.delegate(this,this.enableButtons),this.controlsDiv.animationDiv=document.createElement("div"),this.controlsDiv.animationDiv.setAttribute("id","animationDiv"),this.controlsDiv.appendChild(this.controlsDiv.animationDiv),this.controlsDiv.animationDiv.innerHTML='<div id="animationLegend" class="legend">Animação</div><div class="item"><button id="previousButton">Previous</button><button id="skipBackwardButton">Skip Backward</button><button id="playPauseButton">Play</button><button id="skipForwardButton">Skip Forward</button><button id="nextButton">Next</button><input id="continuouslyCheckbox" type="checkbox" checked="checked"/><label for="continuouslyCheckbox">Sem parar</label></div><div class="item">Velocidade de movimento: <div id="moveSpeedSlider"></div></div><div class="item">Duração do passo: <div id="stepDurationSlider"></div></div>',$("#previousButton").button({icons:{primary:"ui-icon-seek-prev"},disabled:!0,text:!1}).click(jsgl.util.delegate(this,this.redoPreviousButton)),$("#skipBackwardButton").button({icons:{primary:"ui-icon-seek-start"},disabled:!0,text:!1}).click(jsgl.util.delegate(this,this.skipBackwardButton)),$("#playPauseButton").button({icons:{primary:"ui-icon-play"},text:!1,disabled:!0}).click(jsgl.util.delegate(this,this.playPauseButton)),$("#skipForwardButton").button({icons:{primary:"ui-icon-seek-end"},disabled:!0,text:!1}).click(jsgl.util.delegate(this,this.skipForwardButton)),$("#nextButton").button({icons:{primary:"ui-icon-seek-next"},disabled:!0,text:!1}).click(jsgl.util.delegate(this,this.redoNextButton)),$("#continuouslyCheckbox").change(jsgl.util.delegate(this,this.continuouslyCheckbox)),$("#moveSpeedSlider").slider({min:100,max:1e3,value:1e3*this.visualiser.getMoveSpeed(),change:jsgl.util.delegate(this,this.moveSpeedButton)}),$("#stepDurationSlider").slider({min:100,max:2e3,value:this.visualiser.getStepDuration(),change:jsgl.util.delegate(this,this.stepDurationButton)}),this.controlsDiv.historyDiv=document.createElement("div"),this.controlsDiv.historyDiv.setAttribute("id","historyDiv"),this.controlsDiv.appendChild(this.controlsDiv.historyDiv),this.controlsDiv.historyDiv.innerHTML='<div id="historyLegend" class="legend">Histórico</div><form id="historyForm" action="javascript:btv.controller.redoSelectedButton()"><div class="item"><select id="historySelect" ondblclick="btv.controller.redoSelectedButton();"></select></div></form>',this.controlsDiv.algorithmsDiv=document.createElement("div"),this.controlsDiv.algorithmsDiv.setAttribute("id","algorithmsDiv"),this.controlsDiv.appendChild(this.controlsDiv.algorithmsDiv)},btv.AbstractController.isNumber=function(t){return!isNaN(t)||(alert("O valor não é um número!"),!1)},btv.AbstractController.prototype.addHistoryOption=function(t){var e=document.getElementById("historySelect"),o=document.createElement("option");o.text=t.toString();try{e.add(o,e.options.null)}catch(t){e.add(o,null)}e.selectedIndex=this.algorithms.currentAlgorithmIndex},btv.AbstractController.prototype.enableButtons=function(){for(var t=this.getAlgorithmsButtons(),e=0;e<t.length;e++)t[e].disabled=!1,t[e].form.onsubmit=function(){return!0};$("#playPauseButton").button("option","disabled",!0).button("option","icons",{primary:"ui-icon-play"}),$("#skipForwardButton").button("option","disabled",!0)},btv.AbstractController.prototype.disableButtons=function(){for(var t=this.getAlgorithmsButtons(),e=0;e<t.length;e++)t[e].disabled=!0,t[e].form.onsubmit=function(){return!1};$("#playPauseButton").button("option","disabled",!1).button("option","icons",{primary:"ui-icon-pause"}),$("#skipBackwardButton").button("option","disabled",!1),$("#skipForwardButton").button("option","disabled",!1),1<=this.algorithms.getCurrentAlgorithmIndex()&&$("#previousButton").button("option","disabled",!1),this.algorithms.getCurrentAlgorithmIndex()<this.algorithms.getCount()-1?$("#nextButton").button("option","disabled",!1):$("#nextButton").button("option","disabled",!0)},btv.AbstractController.prototype.getAlgorithmsButtons=function(){throw new AlgorithmException("abstract function")},btv.AbstractController.prototype.playPauseButton=function(){switch(this.visualiser.animation.isPlaying()){case-1:break;case 0:this.playButton();break;case 1:this.pauseButton()}},btv.AbstractController.prototype.playButton=function(){this.visualiser.playAnimation()&&$("#playPauseButton").button("option","icons",{primary:"ui-icon-pause"})},btv.AbstractController.prototype.pauseButton=function(){this.visualiser.pauseAnimation()&&$("#playPauseButton").button("option","icons",{primary:"ui-icon-play"})},btv.AbstractController.prototype.moveSpeedButton=function(t,e){this.visualiser.setMoveSpeed(e.value/1e3)},btv.AbstractController.prototype.stepDurationButton=function(t,e){this.visualiser.setStepDuration(e.value)},btv.AbstractController.prototype.skipBackwardButton=function(){var t=this.algorithms.getCurrentAlgorithm();null!==t?(this.isPlayingSafety(),this.redoAlgorithm(t)):alert("Nenhum algoritmo.")},btv.AbstractController.prototype.skipForwardButton=function(){var t;this.visualiser.skipAnimationForward()&&(this.visualiser.redrawTree(this.tree),t=this.algorithms.getCurrentAlgorithm(),$("#continuouslyCheckbox").is(":checked")&&t.removeEndAnimationListener(this.algorithms.delegatedIncreaseCurrentAlgorithmIndex),t.fireEndAnimationListeners(),$("#continuouslyCheckbox").is(":checked")&&t.addEndAnimationListener(this.algorithms.delegatedIncreaseCurrentAlgorithmIndex))},btv.AbstractController.prototype.continuouslyCheckbox=function(){if($("#continuouslyCheckbox").is(":checked"))for(var t=0;t<this.algorithms.getCount();t++)this.algorithms.get(t).addEndAnimationListener(this.algorithms.delegatedIncreaseCurrentAlgorithmIndex);else for(var e=0;e<this.algorithms.getCount();e++)this.algorithms.get(e).removeEndAnimationListener(this.algorithms.delegatedIncreaseCurrentAlgorithmIndex)},btv.AbstractController.prototype.redoPreviousButton=function(){var t=this.algorithms.getCurrentAlgorithmIndex()-1,e=this.algorithms.get(t);null!==e?(this.isPlayingSafety(),this.algorithms.currentAlgorithmIndex=t,this.redoAlgorithm(e)):alert("Sem algoritmo anterior."),1<=this.algorithms.getCurrentAlgorithmIndex()?$("#previousButton").button("option","disabled",!1):$("#previousButton").button("option","disabled",!0)},btv.AbstractController.prototype.redoSelectedButton=function(){var t=document.getElementById("historySelect").selectedIndex,e=this.algorithms.get(t);null!==e?(this.isPlayingSafety(),this.algorithms.currentAlgorithmIndex=t,this.redoAlgorithm(e)):alert("Nenhum algoritmo selecionado."),1<=this.algorithms.getCurrentAlgorithmIndex()?$("#previousButton").button("option","disabled",!1):$("#previousButton").button("option","disabled",!0),this.algorithms.getCurrentAlgorithmIndex()<this.algorithms.getCount()-1?$("#nextButton").button("option","disabled",!1):$("#nextButton").button("option","disabled",!0)},btv.AbstractController.prototype.redoNextButton=function(){var t=this.algorithms.getCurrentAlgorithmIndex()+1,e=this.algorithms.get(t);null!==e?(this.isPlayingSafety(),this.algorithms.currentAlgorithmIndex=t,this.redoAlgorithm(e)):alert("Sem próximo algoritmo."),this.algorithms.getCurrentAlgorithmIndex()<this.algorithms.getCount()-1?$("#nextButton").button("option","disabled",!1):$("#nextButton").button("option","disabled",!0)},btv.AbstractController.prototype.isPlayingSafety=function(){-1!=this.visualiser.animation.isPlaying()&&this.skipForwardButton()},btv.AbstractController.prototype.doAlgorithm=function(t){for(var e=document.getElementById("historySelect"),o=this.algorithms.getCount()-1;o>this.algorithms.currentAlgorithmIndex;o--)this.algorithms.removeAt(o),e.remove(o);t.addStartAnimationListener(this.delegatedDisableButtons),t.addEndAnimationListener(this.delegatedEnableButtons),this.algorithms.add(t,$("#continuouslyCheckbox").is(":checked")),this.algorithms.increaseCurrentAlgorithmIndex(),this.addHistoryOption(t)},btv.AbstractController.prototype.redoAlgorithm=function(t){null!=t&&(this.undoAlgorithm(t),t.redo(),this.visualiser.playAnimation())},btv.AbstractController.prototype.undoAlgorithm=function(t){t.undo(),this.visualiser.redrawTree(this.tree),document.getElementById("historySelect").selectedIndex=this.algorithms.getCurrentAlgorithmIndex()},btv.BinarySearchTreeController=function(t,e){this.tree=new btv.BinaryTree("Árvore Binária"),btv.AbstractController.call(this,t,e),this.controlsDiv.algorithmsDiv.innerHTML='<div id="algorithmsLegend" class="legend">Algoritmos</div><div class="item"><form id="BSTRandomBSTreeForm" action="javascript:btv.controller.randomBSTreeButton()"><input id="BSTRandomBSTreeButton" type="submit" value="Árvore Aleatória"/> min: <input id="BSTRandomBSTreeMinText" type="text" value="0" size="1"/> máx: <input id="BSTRandomBSTreeMaxText" type="text" value="99" size="1"/></form></div><div class="item"><form id="BSTInsertForm" action="javascript: btv.controller.insertButton()"><input id="BSTInsertButton" type="submit" value="Inserir"/> value: <input id="BSTInsertText" type="text" size="1"/></form></div><div class="item"><form id="BSTFindForm" action="javascript:btv.controller.findButton()"><input id="BSTFindButton" type="submit" value="Buscar"/> value: <input id="BSTFindText" type="text" size="1"/></form></div><div class="item"><form id="BSTDeleteForm" action="javascript:btv.controller.deleteButton()"><input id="BSTDeleteButton" type="submit" value="Deletar"/> apaga o nó selecionado</form></div><div class="item"><form id="BSTGetMaxForm" action="javascript:btv.controller.getMaxButton()"><input id="BSTGetMaxButton" type="submit" value="getMax"/> da (sub)árvore selecionada </form></div><div class="item"><form id="BSTGetMinForm" action="javascript:btv.controller.getMinButton()"><input id="BSTGetMinButton" type="submit" value="getMin"/> da (sub)árvore selecionada </form></div><div class="item"><form id="BSTGetPredecessorForm" action="javascript:btv.controller.getPredecessorButton()"><input id="BSTGetPredecessorButton" type="submit" value="Get Predecessor"/> do nó selecionado</form></div><div class="item"><form id="BSTGetSuccessorForm" action="javascript:btv.controller.getSuccessorButton()"><input id="BSTGetSuccessorButton" type="submit" value="Get Successor"/> do nó selecionado</form></div><div class="item"><form id="BSTToPreorderArrayForm" action="javascript:btv.controller.toPreorderArrayButton()"><input id="BSTToPreorderArrayButton" type="submit" value="preOrdem"/> em forma de Array</form></div><div class="item"><form id="BSTToInorderArrayForm" action="javascript:btv.controller.toInorderArrayButton()"><input id="BSTToInorderArrayButton" type="submit" value="emOrdem"/> em forma de Array</form></div><div class="item"><form id="BSTToPostorderArrayForm" action="javascript:btv.controller.toPostorderArrayButton()"><input id="BSTToPostorderArrayButton" type="submit" value="posOrdem"/> em forma de Array</form></div>'},btv.BinarySearchTreeController.jsglExtend(btv.AbstractController),btv.BinarySearchTreeController.prototype.getAlgorithmsButtons=function(){return new Array(document.getElementById("BSTRandomBSTreeButton"),document.getElementById("BSTInsertButton"),document.getElementById("BSTFindButton"),document.getElementById("BSTDeleteButton"),document.getElementById("BSTGetMaxButton"),document.getElementById("BSTGetMinButton"),document.getElementById("BSTGetPredecessorButton"),document.getElementById("BSTGetSuccessorButton"),document.getElementById("BSTToPreorderArrayButton"),document.getElementById("BSTToInorderArrayButton"),document.getElementById("BSTToPostorderArrayButton"))},btv.BinarySearchTreeController.prototype.randomBSTreeButton=function(){var t=document.getElementById("BSTRandomBSTreeMinText"),e=document.getElementById("BSTRandomBSTreeMaxText"),o=parseInt(t.value);if(0==btv.AbstractController.isNumber(o))return t.value="",void t.focus();var i,r=parseInt(e.value);if(0==btv.AbstractController.isNumber(r))return e.value="",void e.focus();r<o?alert("O mínimo é maior que o máximo."):(i=new btv.bst.RandomBSTreeAlg(this.tree,this.visualiser,o,r),this.doAlgorithm(i))},btv.BinarySearchTreeController.prototype.insertButton=function(){var t=document.getElementById("BSTInsertText"),e=parseFloat(t.value);if(0==btv.AbstractController.isNumber(e))return t.value="",void t.focus();var o=new btv.bst.InsertAlg(this.tree,this.visualiser,e);this.doAlgorithm(o),t.value="",t.focus()},btv.BinarySearchTreeController.prototype.findButton=function(){var t=document.getElementById("BSTFindText"),e=parseFloat(t.value);if(0==btv.AbstractController.isNumber(e))return t.value="",void t.focus();var o=new btv.bst.FindAlg(this.tree,this.visualiser,e);this.doAlgorithm(o),t.value="",t.focus()},btv.BinarySearchTreeController.prototype.deleteButton=function(){var t,e=this.visualiser.getSelectedNode();null!==e&&(t=new btv.bst.DeleteAlg(this.tree,this.visualiser,e),this.doAlgorithm(t))},btv.BinarySearchTreeController.prototype.getMaxButton=function(){var t,e=this.visualiser.getSelectedNode();null===e&&null===(e=this.tree.getRoot())||(t=new btv.bst.GetMaxAlg(this.tree,this.visualiser,e),this.doAlgorithm(t))},btv.BinarySearchTreeController.prototype.getMinButton=function(){var t,e=this.visualiser.getSelectedNode();null===e&&null===(e=this.tree.getRoot())||(t=new btv.bst.GetMinAlg(this.tree,this.visualiser,e),this.doAlgorithm(t))},btv.BinarySearchTreeController.prototype.getPredecessorButton=function(){var t,e=this.visualiser.getSelectedNode();null!==e&&(t=new btv.bst.GetPredecessorAlg(this.tree,this.visualiser,e),this.doAlgorithm(t))},btv.BinarySearchTreeController.prototype.getSuccessorButton=function(){var t,e=this.visualiser.getSelectedNode();null!==e&&(t=new btv.bst.GetSuccessorAlg(this.tree,this.visualiser,e),this.doAlgorithm(t))},btv.BinarySearchTreeController.prototype.toIndexArrayButton=function(){var t=new btv.bst.ToIndexArrayAlg(this.tree,this.visualiser);this.doAlgorithm(t)},btv.BinarySearchTreeController.prototype.toPreorderArrayButton=function(){var t=new btv.bst.ToPreorderArrayAlg(this.tree,this.visualiser);this.doAlgorithm(t)},btv.BinarySearchTreeController.prototype.toInorderArrayButton=function(){var t=new btv.bst.ToInorderArrayAlg(this.tree,this.visualiser);this.doAlgorithm(t)},btv.BinarySearchTreeController.prototype.toPostorderArrayButton=function(){var t=new btv.bst.ToPostorderArrayAlg(this.tree,this.visualiser);this.doAlgorithm(t)};